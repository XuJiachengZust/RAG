# =============================================================================
# 环境变量配置模板
# =============================================================================
# 复制此文件为 .env 并填入实际的配置值
# 环境变量会覆盖 config.json 中的对应配置项

# =============================================================================
# API 配置
# =============================================================================
# OpenAI API 配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
EMBEDDING_MODEL=text-embedding-ada-002

# =============================================================================
# LangSmith 配置
# =============================================================================
# LangSmith API 密钥
LANGSMITH_API_KEY=your_langsmith_api_key_here
# LangSmith 项目名称
LANGSMITH_PROJECT=agent-conversation-graph
# LangSmith 端点
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
# 启用 LangSmith
LANGSMITH_ENABLED=false
# 跟踪采样率
LANGSMITH_TRACE_SAMPLE_RATE=1.0

# =============================================================================
# 模型配置
# =============================================================================
# 模型名称
MODEL_NAME=gpt-3.5-turbo
# 模型温度 (0.0-2.0)
MODEL_TEMPERATURE=0.3
# 最大令牌数
MAX_TOKENS=2000
# 对话温度
CONVERSATION_TEMPERATURE=0.1
# 参数分析温度
PARAMETER_ANALYSIS_TEMPERATURE=0.3

# =============================================================================
# 分块配置
# =============================================================================
# 文档分块大小
CHUNK_SIZE=1000
# 分块重叠大小
CHUNK_OVERLAP=200
# 最大分块数量
MAX_CHUNK_SIZE=4000
# 保持表格完整性
PRESERVE_TABLE_INTEGRITY=true
# 混合分块
HYBRID_CHUNKING=true
# 使用增强处理器
USE_ENHANCED_PROCESSOR=true

# =============================================================================
# 语义分块器配置
# =============================================================================
# 断点阈值类型
BREAKPOINT_THRESHOLD_TYPE=percentile
# 断点阈值数量
BREAKPOINT_THRESHOLD_AMOUNT=95
# 分块数量
NUMBER_OF_CHUNKS=null
# 缓冲区大小
BUFFER_SIZE=1
# 句子分割正则表达式
SENTENCE_SPLIT_REGEX=(?<=[.!?])\s+
# 启用元数据增强
ENABLE_METADATA_ENHANCEMENT=true
# 保持文档结构
PRESERVE_DOCUMENT_STRUCTURE=true
# 最小分块大小
MIN_CHUNK_SIZE=100
# 语义最大分块大小
SEMANTIC_MAX_CHUNK_SIZE=4000

# =============================================================================
# 元数据增强器配置
# =============================================================================
# 启用页面范围检测
ENABLE_PAGE_RANGE_DETECTION=true
# 启用标题层次结构
ENABLE_TITLE_HIERARCHY=true
# 启用内容类型检测
ENABLE_CONTENT_TYPE_DETECTION=true
# 启用统计计算
ENABLE_STATISTICS_CALCULATION=true
# 置信度阈值
CONFIDENCE_THRESHOLD=0.7
# 最大标题级别
MAX_TITLE_LEVELS=6

# =============================================================================
# 多模态配置
# =============================================================================
# 启用多模态
ENABLE_MULTIMODAL=true
# PDF使用多模态
USE_MULTIMODAL_FOR_PDF=true
# 多模态模型名称
MULTIMODAL_MODEL=gpt-4o-mini
# 多模态最大令牌数
MULTIMODAL_MAX_TOKENS=1000
# 多模态温度
MULTIMODAL_TEMPERATURE=0.1
# 图像质量
IMAGE_QUALITY=high
# 图像详细程度
IMAGE_DETAIL=high
# PDF DPI
PDF_DPI=150
# 启用图像提取
ENABLE_IMAGE_EXTRACTION=true
# 启用表格提取
ENABLE_TABLE_EXTRACTION=true
# 启用布局分析
ENABLE_LAYOUT_ANALYSIS=true
# 回退到传统方法
FALLBACK_TO_TRADITIONAL=true
# 最大图像大小
MAX_IMAGE_SIZE=2048
# 多模态处理超时
MULTIMODAL_TIMEOUT=60
# 多模态重试次数
MULTIMODAL_RETRY=3
# 多模态批处理大小
MULTIMODAL_BATCH_SIZE=5

# =============================================================================
# 路径配置
# =============================================================================
# 知识文档路径
KNOWLEDGE_DOCS_PATH=d:/PycharmProjects/agent/rules
# 参数文档路径
PARAMETER_DOCS_PATH=d:/PycharmProjects/agent/data/parameters
# 对话存储路径
CONVERSATIONS_PATH=d:/PycharmProjects/agent/data/conversations
# 向量存储路径
VECTOR_STORE_PATH=d:/PycharmProjects/agent/data/vector_stores
# 缓存目录
CACHE_DIR=d:/PycharmProjects/agent/cache

# =============================================================================
# 嵌入配置
# =============================================================================
# 嵌入模型
EMBEDDING_MODEL=text-embedding-ada-002
# 嵌入维度
EMBEDDING_DIMENSION=1536
# 嵌入分块大小
EMBEDDING_CHUNK_SIZE=1000
# 嵌入批处理大小
EMBEDDING_BATCH_SIZE=10

# =============================================================================
# 检索配置
# =============================================================================
# 检索文档数量
RETRIEVAL_K=5
# 相似度阈值
SCORE_THRESHOLD=0.7
# 搜索类型
SEARCH_TYPE=similarity

# =============================================================================
# Chroma 配置
# =============================================================================
# Chroma 距离函数
CHROMA_DISTANCE_FUNCTION=cosine
# Chroma 集合名称
CHROMA_COLLECTION_NAME=rules_collection
# Chroma 持久化目录
CHROMA_PERSIST_DIR=.cache/chroma

# =============================================================================
# 日志配置
# =============================================================================
# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
# 日志文件路径
LOG_FILE=logs/application.log
# 日志格式
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
# 日志文件最大大小
LOG_MAX_FILE_SIZE=10MB
# 日志备份数量
LOG_BACKUP_COUNT=5

# =============================================================================
# Web 配置
# =============================================================================
# Web 服务器主机
WEB_HOST=localhost
# Web 服务器端口
WEB_PORT=5000
# 调试模式
WEB_DEBUG=false

# =============================================================================
# 处理配置
# =============================================================================
# 批处理大小
BATCH_SIZE=10
# 最大工作线程数
MAX_WORKERS=4
# 处理超时时间（秒）
PROCESSING_TIMEOUT=300

# =============================================================================
# 功能开关
# =============================================================================
# 启用对话历史
ENABLE_CONVERSATION_HISTORY=true
# 启用参数匹配
ENABLE_PARAMETER_MATCHING=true
# 启用知识检索
ENABLE_KNOWLEDGE_RETRIEVAL=true
# 启用Web界面
ENABLE_WEB_INTERFACE=true

# =============================================================================
# 向量库管理配置
# =============================================================================
# 启动前清空向量库（默认为true）
CLEAR_VECTOR_STORE_ON_STARTUP=true
# 启用分块采样
ENABLE_CHUNK_SAMPLING=true
# 每个文件采样的分块数量
CHUNK_SAMPLE_SIZE=100
# 分块采样输出文件路径
CHUNK_SAMPLE_OUTPUT_PATH=./chunk_samples.txt